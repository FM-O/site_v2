(function(){function d(){var g=document.getElementsByClassName("tooltip"),e=g.length;for(var f=0;f<e;f++){g[f].style.display="none"}}function b(e){while(e=e.nextSibling){if(e.className==="tooltip"){return e}}return false}function c(){var h=document.getElementsByClassName("form-input incorrect"),g=h.length,e=[];for(var f=0;f<g;f++){e.push(h[f].nextElementSibling)}return e}var a={};a.user_name=function(g){var f=document.getElementById(g),e=b(f).style;if(f.value.length>=2){f.className="form-input correct";e.display="none";return true}else{f.className="form-input incorrect";return false}};a.user_mail=function(g){var f=document.getElementById(g),e=b(f).style;if(f.value.length>=2&&/^[A-Za-z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,6}$/.test(f.value)){f.className="form-input correct";e.display="none";return true}else{f.className="form-input incorrect";return false}};a.user_subject=a.user_name;a.user_mess=a.user_name;(function(){function h(l,m,i,k){if(l.addEventListener){l.addEventListener(m,i,k)}else{l.attachEvent("on"+m,i)}}var g=document.getElementById("contact_form"),e=document.getElementsByClassName("form-input"),j=e.length;for(var f=0;f<j;f++){if(e[f].type=="text"||e[f].type=="textarea"){e[f].onkeyup=function(){a[this.id](this.id)}}}h(g,"submit",function(n){n.preventDefault();var m=document.getElementsByClassName("form-input"),k=m.length;for(var l=0;l<k;l++){m[l].value=m[l].value.trim()}},true);h(g,"submit",function(q){q.preventDefault();var l=document.getElementById("mess_loader");var k=true;for(var o in a){k=a[o](o)&&k}if(k){function m(){var u=document.getElementById("overlay"),v=u.firstElementChild,y=v.firstElementChild,s=document.createTextNode("Erreur dans l'envoi du message !");var t=document.getElementById("user_name").value,w=document.getElementById("user_mail").value,i=document.getElementById("user_subject").value,x=document.getElementById("user_mess").value;function r(){y.lastElementChild.onclick=function(){u.style.display="none";g.reset();return false}}var z=new XMLHttpRequest();z.open("POST","mail.php");z.setRequestHeader("Content-Type","application/x-www-form-urlencoded");z.onreadystatechange=function(){if(z.readyState==4&&z.status==200){l.style.display="none";var A=z.responseText,D=JSON.parse(A);if(D.error=="true"){y.style.color="red";y.replaceChild(s,y.firstChild)}u.style.display="block";y.lastElementChild.focus();r()}else{if(z.readyState==4&&z.status!=200){l.style.display="none";var B=document.getElementById("xhrErr");if(z.statusText!=""){var C=document.createTextNode("erreur : "+z.statusText);B.appendChild(C);B.style.display="block";setTimeout(function(){B.removeChild(C)},7000)}else{B.innerHTML="VÃ©rifiez votre connexion Internet ";B.style.display="block"}y.style.color="red";y.replaceChild(s,y.firstChild);u.style.display="block";y.lastElementChild.focus();r()}}};z.send("param1="+t+"&param2="+w+"&param3="+i+"&param4="+x)}l.style.display="block";setTimeout(function(){m()},500)}else{var p=c();for(var n=0;n<p.length;n++){p[n].style.display="block"}}},false);g.onreset=function(){for(var k=0;k<j;k++){if(e[k].type=="text"||e[k].type=="textarea"){e[k].className="form-input"}}d()}})();d()})();